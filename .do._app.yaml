name: sample-monorepo
region: nyc
services:
- environment_slug: go
  http_port: 8080
  image:
    registry_type: DOCR
    repository: registry.digitalocean.com/sample-go/add_sample
    tag: latest
  instance_count: 1
  instance_size_slug: basic-xxs
  name: api
  routes:
  - path: /api
  source_dir: api
- environment_slug: go
  github:
    branch: main
    deploy_on_push: true
    repo: digitalocean/sample-monorepo
  http_port: 8080
  instance_count: 1
  instance_size_slug: basic-xxs
  name: webhook
  routes:
  - path: /webhook
  source_dir: webhook
static_sites:
- environment_slug: html
  error_document: error.html
  github:
    branch: main
    deploy_on_push: true
    repo: digitalocean/sample-monorepo
  index_document: hello.html
  name: frontend
  routes:
  - path: /
  source_dir: frontend
- dockerfile_path: landing/Dockerfile
  error_document: error.html
  github:
    branch: main
    deploy_on_push: true
    repo: digitalocean/sample-monorepo
  name: landing
  output_dir: /app
  routes:
  - path: /landing
  source_dir: landing
workers:
- dockerfile_path: worker/Dockerfile
  github:
    branch: main
    deploy_on_push: true
    repo: digitalocean/sample-monorepo
  instance_count: 1
  instance_size_slug: basic-xxs
  name: worker
  run_command: sh -c "cat ./ok && sleep infinity"
  source_dir: worker
